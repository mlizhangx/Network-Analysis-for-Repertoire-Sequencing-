<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Given the igraph of a network and a data frame containing
  the corresponding node-level meta data, generates one or more
  ggraph plots of the network graph according to the user
  specifications."><title>Generate Plots of a Network Graph — generateNetworkGraphPlots • NAIR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate Plots of a Network Graph — generateNetworkGraphPlots"><meta property="og:description" content="Given the igraph of a network and a data frame containing
  the corresponding node-level meta data, generates one or more
  ggraph plots of the network graph according to the user
  specifications."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">NAIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9043</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/NAIR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/associated_clusters.html">Searching for Associated TCR/BCR Clusters</a>
    <a class="dropdown-item" href="../articles/buildRepSeqNetwork.html">buildRepSeqNetwork</a>
    <a class="dropdown-item" href="../articles/dual_chain.html">Dual-Chain Network Analysis</a>
    <a class="dropdown-item" href="../articles/network_visualization.html">Network Visualization</a>
    <a class="dropdown-item" href="../articles/public_clusters.html">Searching for Public TCR/BCR Clusters</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlizhangx/Network-Analysis-for-Repertoire-Sequencing-/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate Plots of a Network Graph</h1>
      
      <div class="d-none name"><code>generateNetworkGraphPlots.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given the <code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph</a></code> of a network and a data frame containing
  the corresponding node-level meta data, generates one or more
  <code><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></code> plots of the network graph according to the user
  specifications.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generateNetworkGraphPlots</span><span class="op">(</span></span>
<span>  <span class="va">igraph</span>, <span class="va">data</span>, print_plots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_title <span class="op">=</span> <span class="cn">NULL</span>, plot_subtitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color_nodes_by <span class="op">=</span> <span class="cn">NULL</span>, color_scheme <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  color_legend <span class="op">=</span> <span class="st">"auto"</span>, color_title <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  edge_width <span class="op">=</span> <span class="fl">0.1</span>, size_nodes_by <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  node_size_limits <span class="op">=</span> <span class="cn">NULL</span>, size_title <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>igraph</dt>
<dd><p>An <code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph</a></code> object containing the network graph to be plotted.</p></dd>


<dt>data</dt>
<dd><p>A data frame containing the node-level meta-data for the network, with each row
  corresponding to a node.</p></dd>


<dt>print_plots</dt>
<dd><p>A logical scalar; should plots be printed in the <code>R</code> plotting window?</p></dd>


<dt>plot_title</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


<dt>plot_subtitle</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


<dt>color_nodes_by</dt>
<dd><p>A vector specifying one or more variables of <code>data</code> used to encode the
  color of the nodes. One plot is generated for each vector entry, with each plot
  coloring the nodes according to the variable in the corresponding vector entry.
  The vector must be either a character vector (in which case each entry is a
  column name of <code>data</code>) or a numeric vector (in which case each entry is a
  column index of <code>data</code>). If this argument is <code>NULL</code>, one plot will be
  generated with the nodes uncolored.</p></dd>


<dt>color_scheme</dt>
<dd><p>A character string specifying the color scale to use for all plots, or a
  character vector whose length matches that of <code>color_nodes_by</code>, specifying
  the color scale used for each plot. Each entry is passed to
  <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating the plot for the corresponding
  entry of <code>color_nodes_by</code>.</p></dd>


<dt>color_legend</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


<dt>color_title</dt>
<dd><p>A character string specifying the title of the color legend in all plots, or a
  character vector whose length matches that of <code>color_nodes_by</code>, specifying
  the title of the color legend in each plot. Each entry is passed to
  <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating the plot for the corresponding
  entry of <code>color_nodes_by</code>.</p></dd>


<dt>edge_width</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


<dt>size_nodes_by</dt>
<dd><p>A numeric scalar specifying the size of the nodes in all plots, or the column
  name of a variable of <code>data</code> used to encode the size of the nodes in all
  plots. Alternatively, an argument value of <code>NULL</code> uses the default
  <code><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></code> size for all nodes. Passed to the size aesthetic
  mapping of <code><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></code>.</p></dd>


<dt>node_size_limits</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


<dt>size_title</dt>
<dd><p>Passed to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code> when generating each plot.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Intended for use with the output of <code><a href="buildRepSeqNetwork.html">buildRepSeqNetwork</a></code> or
  <code><a href="generateNetworkObjects.html">generateNetworkObjects</a></code>. The output of these functions contain the
  inputs for the <code>igraph</code> and <code>data</code> arguments of
  <code>generateNetworkGraphPlots</code>.</p>
<p>Each plot is generated by dispatching a call to <code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code>.</p>
<p>The plots can be saved to a single pdf using <code><a href="saveNetworkPlots.html">saveNetworkPlots</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing one element for each plot generated. Each element is a</p>
<p></p>
<p><code>ggraph</code> object whose name is the column name of the variable used to
  color the nodes. If a plot has uncolored nodes, its name is <code>uniform_color</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hai Yang, Jason Cham, Brian Neal, Zenghua Fan, Tao He and Li Zhang. (2023).
NAIR: Network Analysis of Immune Repertoire. <em>Frontiers in Immunology</em>, vol. 14.
<a href="https://www.frontiersin.org/articles/10.3389/fimmu.2023.1181825/full" class="external-link">doi: 10.3389/fimmu.2023.1181825</a></p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/index.html">Webpage for the NAIR package</a></p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/articles/network_visualization.html">Network Visualization vignette</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Brian Neal (<a href="mailto:Brian.Neal@ucsf.edu">Brian.Neal@ucsf.edu</a>)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="saveNetworkPlots.html">saveNetworkPlots</a></code></p>
<p><code><a href="generateNetworkObjects.html">generateNetworkObjects</a></code></p>
<p><code><a href="plotNetworkGraph.html">plotNetworkGraph</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">toy_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulateToyData.html">simulateToyData</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="generateNetworkObjects.html">generateNetworkObjects</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">toy_data</span>,</span></span>
<span class="r-in"><span>    <span class="st">"CloneSeq"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing network edges based on a max hamming distance of 1... Done.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Network contains 122 nodes (after removing isolated nodes).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create two plots:</span></span></span>
<span class="r-in"><span><span class="co"># one with nodes colored by sample,</span></span></span>
<span class="r-in"><span><span class="co"># the other by clone count</span></span></span>
<span class="r-in"><span><span class="va">net_plot</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">generateNetworkGraphPlots</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">net</span><span class="op">$</span><span class="va">igraph</span>,</span></span>
<span class="r-in"><span>    <span class="va">net</span><span class="op">$</span><span class="va">node_data</span>,</span></span>
<span class="r-in"><span>    color_nodes_by <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SampleID"</span>, <span class="st">"CloneCount"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    color_scheme <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Set 2"</span>, <span class="st">"mako-1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    color_title <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"Clone Count"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    size_nodes_by <span class="op">=</span> <span class="fl">1.5</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Generating graph plot with nodes colored by SampleID...</span>
<span class="r-plt img"><img src="generateNetworkGraphPlots-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Done.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Generating graph plot with nodes colored by CloneCount...</span>
<span class="r-plt img"><img src="generateNetworkGraphPlots-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Done.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Brian Neal, Hai Yang, Phi Long Le, Li Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

