<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Node-Level Network Properties — addNodeNetworkStats • NAIR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Node-Level Network Properties — addNodeNetworkStats"><meta name="description" content="
Given the node metadata and igraph for a network,
  computes a specified set of network properties for the network nodes.
  The node metadata is returned
  with each property added as a variable.
This function was deprecated in favor of
  addNodeStats()
  in NAIR 1.0.1.
  The new function accepts and returns the entire list of network
  objects returned by buildRepSeqNetwork()
  or by generateNetworkObjects().
  It can compute cluster membership and add the values to the node metadata.
  It additionally updates the list element details with further
  information linking the node-level and cluster-level metadata."><meta property="og:description" content="
Given the node metadata and igraph for a network,
  computes a specified set of network properties for the network nodes.
  The node metadata is returned
  with each property added as a variable.
This function was deprecated in favor of
  addNodeStats()
  in NAIR 1.0.1.
  The new function accepts and returns the entire list of network
  objects returned by buildRepSeqNetwork()
  or by generateNetworkObjects().
  It can compute cluster membership and add the values to the node metadata.
  It additionally updates the list element details with further
  information linking the node-level and cluster-level metadata."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NAIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/NAIR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/buildRepSeqNetwork.html">buildRepSeqNetwork()/buildNet()</a></li>
    <li><a class="dropdown-item" href="../articles/node_properties.html">Node-Level Network Properties</a></li>
    <li><a class="dropdown-item" href="../articles/cluster_analysis.html">Cluster Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/network_visualization.html">Network Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/supplementary.html">Supplementary Functions</a></li>
    <li><a class="dropdown-item" href="../articles/dual_chain.html">Dual-Chain Network Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/associated_clusters.html">Searching for Associated TCR/BCR Clusters</a></li>
    <li><a class="dropdown-item" href="../articles/public_clusters.html">Searching for Public TCR/BCR Clusters</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlizhangx/Network-Analysis-for-Repertoire-Sequencing-/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Node-Level Network Properties</h1>

      <div class="d-none name"><code>addNodeNetworkStats.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><img src="figures/lifecycle-deprecated.svg" width="35%"></p>
<p>Given the node metadata and <code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph</a></code> for a network,
  computes a specified set of network properties for the network nodes.
  The node metadata is returned
  with each property added as a variable.</p>
<p>This function was deprecated in favor of
  <code><a href="addNodeStats.html">addNodeStats()</a></code>
  in NAIR 1.0.1.
  The new function accepts and returns the entire list of network
  objects returned by <code><a href="buildRepSeqNetwork.html">buildRepSeqNetwork()</a></code>
  or by <code><a href="generateNetworkObjects.html">generateNetworkObjects()</a></code>.
  It can compute cluster membership and add the values to the node metadata.
  It additionally updates the list element <code>details</code> with further
  information linking the node-level and cluster-level metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">addNodeNetworkStats</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">net</span>,</span>
<span>  stats_to_include <span class="op">=</span> <span class="fu"><a href="chooseNodeStats.html">chooseNodeStats</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  cluster_fun <span class="op">=</span> <span class="st">"fast_greedy"</span>,</span>
<span>  cluster_id_name <span class="op">=</span> <span class="st">"cluster_id"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the node-level metadata for the network, with each
      row corresponding to a network node.</p></dd>

  <dt id="arg-net">net<a class="anchor" aria-label="anchor" href="#arg-net"></a></dt>
<dd><p>The network <code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph</a></code>.</p></dd>

  <dt id="arg-stats-to-include">stats_to_include<a class="anchor" aria-label="anchor" href="#arg-stats-to-include"></a></dt>
<dd><p>Specifies which network properties to compute.
      Accepts a vector created using
      <code><a href="chooseNodeStats.html">chooseNodeStats()</a></code> or
      <code><a href="chooseNodeStats.html">exclusiveNodeStats()</a></code>,
      or the character string <code>"all"</code> to compute all network properties.</p></dd>

  <dt id="arg-cluster-fun">cluster_fun<a class="anchor" aria-label="anchor" href="#arg-cluster-fun"></a></dt>
<dd><p>A character string specifying the clustering algorithm to use when
      computing cluster membership.
      Applicable only when <code>stats_to_include = "all"</code> or
      <code>stats_to_include["cluster_id"]</code> is <code>TRUE</code>.
      Passed to <code><a href="addClusterMembership.html">addClusterMembership()</a></code>.</p></dd>

  <dt id="arg-cluster-id-name">cluster_id_name<a class="anchor" aria-label="anchor" href="#arg-cluster-id-name"></a></dt>
<dd><p>A character string specifying the name of the cluster membership variable
      to be added to <code>data</code>.
      Applicable only when <code>stats_to_include = "all"</code> or
      <code>stats_to_include["cluster_id"]</code> is <code>TRUE</code>.
      Passed to <code><a href="addClusterMembership.html">addClusterMembership()</a></code>.</p></dd>

  <dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Logical. If <code>TRUE</code> and <code>data</code> contains a variable whose
      name matches the value of <code>cluster_id_name</code>, then its values will be
      overwritten with new cluster membership values (obtained using
      <code><a href="addClusterMembership.html">addClusterMembership()</a></code>
      with the specified value of <code>cluster_fun</code>).
      Applicable only when <code>stats_to_include = "all"</code> or
      <code>stats_to_include["cluster_id"]</code> is <code>TRUE</code>.</p></dd>

  <dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, generates messages about the tasks
      performed and their progress, as well as relevant properties of intermediate
      outputs. Messages are sent to <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stderr()</a></code>.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Named optional arguments to the function specified by <code>cluster_fun</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Node-level network properties are properties that pertain to each individual
  node in the network graph.</p>
<p>Some are local properties, meaning that their value for a given node depends only
  on a subset of the nodes in the network. One example is the network degree of a
  given node, which represents the number of other nodes that are directly joined
  to the given node by an edge connection.</p>
<p>Other properties are global properties, meaning that their value for a given node
  depends on all of the nodes in the network. An example is the authority score of
  a node, which is computed using the entire graph adjacency matrix (if we denote
  this matrix by \(A\), then the principal eigenvector of \(A^T A\) represents
  the authority scores of the network nodes).</p>
<p>See <code><a href="chooseNodeStats.html">chooseNodeStats()</a></code>
  for a list of the available node-level network properties.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A copy of <code>data</code> with with an additional column for each
  new network property computed.
  See <code><a href="chooseNodeStats.html">chooseNodeStats()</a></code>
  for the network property names,
  which are used as the column names,
  except for the cluster membership variable,
  whose name is the value of <code>cluster_id_name</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="addNodeStats.html">addNodeStats()</a></code>
<code><a href="chooseNodeStats.html">chooseNodeStats()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Hai Yang, Jason Cham, Brian Neal, Zenghua Fan, Tao He and Li Zhang. (2023).
NAIR: Network Analysis of Immune Repertoire. <em>Frontiers in Immunology</em>,
vol. 14.
<a href="https://www.frontiersin.org/articles/10.3389/fimmu.2023.1181825/full" class="external-link">doi: 10.3389/fimmu.2023.1181825</a></p>
<p><a href="https://mlizhangx.github.io/Network-Analysis-for-Repertoire-Sequencing-/index.html">Webpage for the NAIR package</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Brian Neal (<a href="mailto:Brian.Neal@ucsf.edu">Brian.Neal@ucsf.edu</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">toy_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulateToyData.html">simulateToyData</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="generateNetworkObjects.html">generateNetworkObjects</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">toy_data</span>,</span></span>
<span class="r-in"><span>    <span class="st">"CloneSeq"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">net</span><span class="op">$</span><span class="va">node_data</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">addNodeNetworkStats</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">net</span><span class="op">$</span><span class="va">node_data</span>,</span></span>
<span class="r-in"><span>    <span class="va">net</span><span class="op">$</span><span class="va">igraph</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`addNodeNetworkStats()` was deprecated in NAIR 1.0.1.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Please use `addNodeStats()` instead.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brian Neal, Hai Yang, Daniil Matveev, Phi Long Le, Li Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

